<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Linux 下SVN常用命令 | Linux开发笔记</title>
  <meta name="author" content="lxl2015">
  
  <meta name="description" content="先看svn的帮助命令">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="Linux 下SVN常用命令"/>
  <meta property="og:site_name" content="Linux开发笔记"/>

  
    <meta property="og:image" content=""/>
  

  <link rel="alternate" href="/atom.xml" title="Linux开发笔记" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <!-- wumiiVerification -->
  <!-- meta name="wumiiVerification" content="fb50a101-84fe-4ca2-91a7-ae8cf792978b" /-->
  <!-- meta name="wumiiVerification" content="d73b5866-c390-4156-a4dd-51b526b5335e" /-->
  <!-- favicon -->
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <!-- Font-Awesome -->
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">

<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <header id="header"><div class= "header-content inner">
	<div class = "alignleft col-one">
		
			<div class='avatar'>
				<img src = "/img/default/avatar.gif">
              </div>
		
		<div class="header-div">
		    <h1><a href="/">Linux开发笔记</a></h1>
		    <h2><a href="/"></a></h2>
		</div>
	</div>
	<div class = "alignright col-two">
		
	</div>
	<div class="clearfix"></div>
</div>

<div class= "header-nav">
	<div class='header-nav-content inner'>
		<div id="main-nav" class="alignleft">
		    		
		    		  <a href="/"><i class="fa fa-home"></i>首页</a>
		    		
		    		  <a href="/archives"><i class="fa fa-archive"></i>归档</a>
		    		
		    		  <a href="/resume"><i class="fa fa-user"></i>关于我</a>
		    		
		</div>
		<div id="sub-nav" class="alignright">
		    
		</div>
	</div>
	<div class="clearfix"></div>
</div>
</header>
  
    <div id="content" class="inner">
      <div id="main-col" class="alignleft"><div id="wrapper"><article class="post">
  
  <div class="post-content">
    <header>
        <div class="icon"></div>
        
        <time datetime="2017-07-11T09:44:20.000Z"><a href="/2017/07/11/Linux-下SVN常用命令/">2017-07-11</a></time>
        
  
    <h1 class="title">Linux 下SVN常用命令</h1>
  

    </header>

    <div class="entry">
      
        
    <div id="toc">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81%E6%9C%80%E5%B8%B8%E7%94%A8%E7%9A%84SVN%E5%91%BD%E4%BB%A4"><span class="toc-text">1、最常用的SVN命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81%E5%91%BD%E4%BB%A4%E8%A7%A3%E6%9E%90"><span class="toc-text">2、命令解析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1%E3%80%81%E5%B0%86%E6%96%87%E4%BB%B6checkout%E5%88%B0%E6%9C%AC%E5%9C%B0%E7%9B%AE%E5%BD%95"><span class="toc-text">2.1、将文件checkout到本地目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2%E3%80%81%E5%BE%80%E7%89%88%E6%9C%AC%E5%BA%93%E4%B8%AD%E6%B7%BB%E5%8A%A0%E6%96%B0%E7%9A%84%E6%96%87%E4%BB%B6%E6%88%96%E7%9B%AE%E5%BD%95"><span class="toc-text">2.2、往版本库中添加新的文件或目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3%E3%80%81%E5%B0%86%E6%94%B9%E5%8A%A8%E7%9A%84%E6%96%87%E4%BB%B6%E6%8F%90%E4%BA%A4%E5%88%B0%E7%89%88%E6%9C%AC%E5%BA%93"><span class="toc-text">2.3、将改动的文件提交到版本库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4%E3%80%81%E5%8A%A0%E9%94%81-%E8%A7%A3%E9%94%81"><span class="toc-text">2.4、加锁&#x2F;解锁</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5%E3%80%81%E6%9B%B4%E6%96%B0%E5%88%B0%E6%9F%90%E4%B8%AA%E7%89%88%E6%9C%AC"><span class="toc-text">2.5、更新到某个版本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6%E3%80%81%E6%9F%A5%E7%9C%8B%E6%96%87%E4%BB%B6%E6%88%96%E8%80%85%E7%9B%AE%E5%BD%95%E7%8A%B6%E6%80%81"><span class="toc-text">2.6、查看文件或者目录状态</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-7%E3%80%81%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6"><span class="toc-text">2.7、删除文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-8%E3%80%81%E6%9F%A5%E7%9C%8B%E6%97%A5%E5%BF%97"><span class="toc-text">2.8、查看日志</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-9%E3%80%81%E6%9F%A5%E7%9C%8B%E6%96%87%E4%BB%B6%E8%AF%A6%E7%BB%86%E4%BF%A1%E6%81%AF"><span class="toc-text">2.9、查看文件详细信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-10%E3%80%81%E6%AF%94%E8%BE%83%E5%B7%AE%E5%BC%82"><span class="toc-text">2.10、比较差异</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-11%E3%80%81%E5%B0%86%E4%B8%A4%E4%B8%AA%E7%89%88%E6%9C%AC%E4%B9%8B%E9%97%B4%E7%9A%84%E5%B7%AE%E5%BC%82%E5%90%88%E5%B9%B6%E5%88%B0%E5%BD%93%E5%89%8D%E6%96%87%E4%BB%B6"><span class="toc-text">2.11、将两个版本之间的差异合并到当前文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-12%E3%80%81%E7%89%88%E6%9C%AC%E5%BA%93%E4%B8%8B%E7%9A%84%E6%96%87%E4%BB%B6%E5%92%8C%E7%9B%AE%E5%BD%95%E5%88%97%E8%A1%A8"><span class="toc-text">2.12、版本库下的文件和目录列表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-13%E3%80%81%E6%81%A2%E5%A4%8D%E6%9C%AC%E5%9C%B0%E4%BF%AE%E6%94%B9"><span class="toc-text">2.13、恢复本地修改</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-14%E3%80%81%E4%BB%A3%E7%A0%81%E5%BA%93URL%E5%8F%98%E6%9B%B4"><span class="toc-text">2.14、代码库URL变更</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E3%80%81%E5%88%86%E6%94%AF%E5%88%9B%E5%BB%BA%E3%80%81%E5%90%88%E5%B9%B6"><span class="toc-text">3、分支创建、合并</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1%E3%80%81%E5%88%9B%E5%BB%BA%E5%88%86%E6%94%AF"><span class="toc-text">3.1、创建分支</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2%E3%80%81%E5%90%88%E5%B9%B6%E4%B8%80%E4%B8%AA%E5%88%86%E6%94%AF%E5%88%B0%E4%B8%BB%E5%B9%B2"><span class="toc-text">3.2、合并一个分支到主干</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3%E3%80%81%E4%B8%A4%E4%B8%AA%E5%88%86%E6%94%AF%E5%90%88%E5%B9%B6"><span class="toc-text">3.3、两个分支合并</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4%E3%80%81%E5%8F%91%E5%B8%83"><span class="toc-text">3.4、发布</span></a></li></ol></li></ol>
    </div>

        <p>先看svn的帮助命令</p>
<span id="more"></span>

<pre><code># svn help
</code></pre>
<br>

<pre><code>用法: svn &lt;subcommand&gt; [options] [args]
Subversion 命令行客户端，版本 1.8.8。
使用“svn help &lt;subcommand&gt;” 显示子命令的帮助信息。
使用“svn --version”查看程序的版本号和版本库访问模块，或者
使用“svn --version --quiet”只查看程序的版本号。

大多数的子命令可接受文件或目录参数，对目录进行递归处理。
如果没有指定参数，默认对当前目录(包含当前目录)递归处理。

可用的子命令:
   add
   blame (praise, annotate, ann)
   cat
   changelist (cl)
   checkout (co)
   cleanup
   commit (ci)
   copy (cp)
   delete (del, remove, rm)
   diff (di)
   export
   help (?, h)
   import
   info
   list (ls)
   lock
   log
   merge
   mergeinfo
   mkdir
   move (mv, rename, ren)
   patch
   propdel (pdel, pd)
   propedit (pedit, pe)
   propget (pget, pg)
   proplist (plist, pl)
   propset (pset, ps)
   relocate
   resolve
   resolved
   revert
   status (stat, st)
   switch (sw)
   unlock
   update (up)
   upgrade

Subversion 是版本控制工具。
</code></pre>
<p>仓库地址:<a target="_blank" rel="noopener" href="https://192.168.1.100/lxl/lanplus">https://192.168.1.100/lxl/lanplus</a></p>
<p>项目名称是lanplus</p>
<h2 id="1、最常用的SVN命令"><a href="#1、最常用的SVN命令" class="headerlink" title="1、最常用的SVN命令"></a>1、最常用的SVN命令</h2><p>xxx表示新创建的文件或者目录<br>xxxx表示要删除的文件</p>
<pre><code># svn co  https://192.168.1.100/lxl/lanplus [本地目录/lanplus] --username [用户名]
# svn status
# svn add xxx
# svn rm xxxx
# svn ci -m &quot;填写提交日志&quot;
# svn　update
</code></pre>
<h2 id="2、命令解析"><a href="#2、命令解析" class="headerlink" title="2、命令解析"></a>2、命令解析</h2><p>svn全局选项</p>
<pre><code>全局选项:
  --username ARG           : 指定用户名称 ARG
  --password ARG           : 指定密码 ARG
  --no-auth-cache          : 不要缓存用户认证令牌
  --non-interactive        : do no interactive prompting (default is to prompt
                             only if standard input is a terminal device)
  --force-interactive      : do interactive prompting even if standard input
                             is not a terminal device
  --trust-server-cert      : 不提示的接受未知的证书颁发机构发行的 SSL 服务器证书(只用于选项 “--non-interactive”)
  --config-dir ARG         : 从目录 ARG 读取用户配置文件
  --config-option ARG      : 以下属格式设置用户配置选项：
                                 FILE:SECTION:OPTION=[VALUE]
                             例如：
                                 servers:global:http-library=serf
</code></pre>
<hr>
<h3 id="2-1、将文件checkout到本地目录"><a href="#2-1、将文件checkout到本地目录" class="headerlink" title="2.1、将文件checkout到本地目录"></a>2.1、将文件checkout到本地目录</h3><pre><code># svn co  https://192.168.1.100/lxl/lanplus [本地目录/lanplus] --username [用户名]
</code></pre>
<p>使用: checkout URL[@REV]… [PATH]</p>
<p>如果指定 REV，那么它确定了从 URL 首先查找的版本。</p>
<p>如果省略路径参数，则 URL 最末尾的目录名作为目标目录名。如果指定多个 URL，则依次将其签出到 PATH 的子目录中，子目录名就是 URL 最末尾的目录名。</p>
<p>如果使用了 “–force” 选项，在工作副本中未版本控制的障碍路径，不会自动导致签出失败。 如果障碍路径与版本库中的对应路径类型相同(文件或目录),它将成为受版本控制的路径，但是内容不改变。它意味着障碍路径的孩子，如果也是障碍路径，那么也会受版本控制。对于障碍路径中的文件，如果与版本库内的不同，将视为工作副本发生本地修改。版本库中的所有属性都应用于障碍路径。</p>
<p>参见 “svn help update” 以获取报告执行动作的字符列表。</p>
<p>有效选项:</p>
<pre><code>  -r [--revision] ARG      : ARG (一些命令也接受ARG1:ARG2范围)
                             版本参数可以是如下之一: 
                                NUMBER       版本号
                                &#39;&#123;&#39; DATE &#39;&#125;&#39; 在指定时间以后的版本
                                &#39;HEAD&#39;       版本库中的最新版本
                                &#39;BASE&#39;       工作副本的基线版本
                                &#39;COMMITTED&#39;  最后提交或基线之前
                                &#39;PREV&#39;       COMMITTED的前一版本
  -q [--quiet]             : 不打印信息，或只打印概要信息
  -N [--non-recursive]     : 过时；尝试 --depth=files 或 --depth=immediates
  --depth ARG              : 限制操作深度是 ARG (&#39;empty&#39;, &#39;files&#39;,
                             &#39;immediates&#39;, 或 &#39;infinity&#39;)
  --force                  : 强制操作运行
  --ignore-externals       : 忽略外部项目
</code></pre>
<h3 id="2-2、往版本库中添加新的文件或目录"><a href="#2-2、往版本库中添加新的文件或目录" class="headerlink" title="2.2、往版本库中添加新的文件或目录"></a>2.2、往版本库中添加新的文件或目录</h3><pre><code># svn add xxx
</code></pre>
<p>add: 把文件和目录纳入版本控制，通过调度加到版本库。它们会在下一次提交时加入。<br>用法: add 路径…</p>
<p>有效选项:</p>
<pre><code>  --targets ARG            : 传递文件 ARG 内容为附件参数
  -N [--non-recursive]     : 过时；尝试 --depth=files 或 --depth=immediates
  --depth ARG              : 限制操作深度是 ARG (&#39;empty&#39;, &#39;files&#39;,
                             &#39;immediates&#39;, 或 &#39;infinity&#39;)
  -q [--quiet]             : 不打印信息，或只打印概要信息
  --force                  : 强制操作运行
  --no-ignore              : disregard default and svn:ignore and
                             svn:global-ignores property ignores
  --auto-props             : 启用自动属性
  --no-auto-props          : 关闭自动属性
  --parents                : 增加中间父目录
</code></pre>
<h3 id="2-3、将改动的文件提交到版本库"><a href="#2-3、将改动的文件提交到版本库" class="headerlink" title="2.3、将改动的文件提交到版本库"></a>2.3、将改动的文件提交到版本库</h3><pre><code># svn ci -m &quot;填写提交日志&quot;
</code></pre>
<p>commit (ci): 把工作副本的修改提交到版本库。<br>用法: commit [路径…]</p>
<p>必须提供日志消息，但它可以是空的。如果没有指定 –message 或 –file选项，编辑器会被启动。如果有目标是锁定的或者包含锁定条目，则在成功提交后会被解锁。</p>
<p>有效选项:</p>
<pre><code>  -q [--quiet]             : 不打印信息，或只打印概要信息
  -N [--non-recursive]     : 过时；尝试 --depth=files 或 --depth=immediates
  --depth ARG              : 限制操作深度是 ARG (&#39;empty&#39;, &#39;files&#39;,
                             &#39;immediates&#39;, 或 &#39;infinity&#39;)
  --targets ARG            : 传递文件 ARG 内容为附件参数
  --no-unlock              : 不要解锁目标
  -m [--message] ARG       : 指定日志信息ARG
  -F [--file] ARG          : 从文件ARG读取日志信息
  --force-log              : 强制校验日志信息资源
  --editor-cmd ARG         : 使用 ARG 作为外部编辑器
  --encoding ARG           : 将ARG的值视为字符编码
  --with-revprop ARG       : 在新版本设置版本属性 ARG
                使用格式 name[=value]
  --changelist [--cl] ARG  : 只能对修改列表 ARG 的成员操作
  --keep-changelists       : 不要在提交后删除修改列表
  --include-externals      : Also commit file and dir externals reached by
                             recursion. This does not include externals with a
                             fixed revision. (See the svn:externals property)
</code></pre>
<h3 id="2-4、加锁-解锁"><a href="#2-4、加锁-解锁" class="headerlink" title="2.4、加锁/解锁"></a>2.4、加锁/解锁</h3><pre><code># svn lock -m  &quot;锁定文件&quot; xxx
</code></pre>
<p>锁定xxx文件，不允许其他人修改</p>
<p>lock: 锁定版本库中的路径，使得其他用户不能向其提交修改。<br>用法: lock TARGET…</p>
<p>使用 –force 选项可以从其他用户或工作副本窃取到锁。</p>
<p>有效选项:</p>
<pre><code>  --targets ARG            : 传递文件 ARG 内容为附件参数
  -m [--message] ARG       : 指定加锁注释ARG
  -F [--file] ARG          : 从文件 ARG 读取加锁注释
  --force-log              : 强制校验锁定注释源
  --encoding ARG           : 将ARG的值视为字符编码
  --force                  : 强制操作运行
</code></pre>
<hr>
<pre><code># svn unlock  xxx
</code></pre>
<p>unlock: 解除工作副本或URL的锁定。<br>用法: unlock TARGET…</p>
<p>使用 –force 终止锁定。</p>
<p>有效选项:</p>
<pre><code>  --targets ARG            : 传递文件 ARG 内容为附件参数
  --force                  : 强制操作运行
</code></pre>
<h3 id="2-5、更新到某个版本"><a href="#2-5、更新到某个版本" class="headerlink" title="2.5、更新到某个版本"></a>2.5、更新到某个版本</h3><pre><code># svn update
</code></pre>
<p>update (up): 将版本库的修改合并到工作副本中。<br>用法: update [PATH…]</p>
<p>  如果没有指定版本，则将工作副本更新到 HEAD 版本。否则同步到 -r 选项所<br>  指定的版本。</p>
<p>  每更新一项就输出一行信息，使用首字符来报告执行的动作。这些字符的含义是: </p>
<pre><code>A  已添加
D  已删除
U  已更新
C  合并冲突
G  合并成功
E  已存在
R  已替换
</code></pre>
<p>第一列字符报告项目本身。<br>第二列表示报告项目属性。<br>第三列中的字符“B”表示此文件上的锁被终止或窃取。<br>第四列中的字符“C”表示树冲突，同时“C”出现在第一列或第二列，分别表示内容冲突或属性冲突。</p>
<p>如果使用了 “–force” 选项，在工作副本中未版本控制的障碍路径，不会自动导致签出失败。 如果障碍路径与版本库中的对应路径类型相同(文件或目录),它将成为受版本控制的路径，但是内容不改变。它意味着障碍路径的子孙，也可能是障碍路径，同样会受版本控制。对于障碍路径中的文件，如果与版本库内的不同，将视为工作副本发生本地修改。版本库中的所有属性都应用于障碍路径。用第一列字符 “E” 来报告障碍路径。</p>
<p>如果工作副本中并没有指定的更新目标，但是有其父目录，那么就在指定路径上将目标检出到其父目录中。如果使用了选项 –parents，就会创建目标的所有不存在的父目录 (使用选项 –depth=empty)。</p>
<p>使用“–set-depth”选项设置此操作目标的工作副本之新深度。</p>
<p>有效选项:</p>
<pre><code>  -r [--revision] ARG      : ARG (一些命令也接受ARG1:ARG2范围)
                             版本参数可以是如下之一: 
                                NUMBER       版本号
                                &#39;&#123;&#39; DATE &#39;&#125;&#39; 在指定时间以后的版本
                                &#39;HEAD&#39;       版本库中的最新版本
                                &#39;BASE&#39;       工作副本的基线版本
                                &#39;COMMITTED&#39;  最后提交或基线之前
                                &#39;PREV&#39;       COMMITTED的前一版本
  -N [--non-recursive]     : 过时；尝试 --depth=files 或 --depth=immediates
  --depth ARG              : 限制操作深度是 ARG (&#39;empty&#39;, &#39;files&#39;,
                             &#39;immediates&#39;, 或 &#39;infinity&#39;)
  --set-depth ARG          : 设置工作副本的新深度为 ARG(&#39;exclude&#39;,
                             &#39;empty&#39;, &#39;files&#39;, &#39;immediates&#39;, 或 &#39;infinity&#39;)
  -q [--quiet]             : 不打印信息，或只打印概要信息
  --diff3-cmd ARG          : 使用 ARG 作为合并命令
  --force                  : 强制操作运行
  --ignore-externals       : 忽略外部项目
  --changelist [--cl] ARG  : 只能对修改列表 ARG 的成员操作
  --editor-cmd ARG         : 使用 ARG 作为外部编辑器
  --accept ARG             : 指定自动解决冲突动作
                             (&#39;postpone&#39;, &#39;working&#39;, &#39;base&#39;, &#39;mine-conflict&#39;,
                             &#39;theirs-conflict&#39;, &#39;mine-full&#39;, &#39;theirs-full&#39;,
                             &#39;edit&#39;, &#39;launch&#39;)
                             (shorthand: &#39;p&#39;, &#39;mc&#39;, &#39;tc&#39;, &#39;mf&#39;, &#39;tf&#39;, &#39;e&#39;, &#39;l&#39;)
  --parents                : 创建中间目录
</code></pre>
<h3 id="2-6、查看文件或者目录状态"><a href="#2-6、查看文件或者目录状态" class="headerlink" title="2.6、查看文件或者目录状态"></a>2.6、查看文件或者目录状态</h3><pre><code># svn update
</code></pre>
<p>有效选项:</p>
<pre><code>  -u [--show-updates]      : 显示更新信息
  -v [--verbose]           : 打印附加信息
  -N [--non-recursive]     : 过时；尝试 --depth=files 或 --depth=immediates
  --depth ARG              : 限制操作深度是 ARG (&#39;empty&#39;, &#39;files&#39;,
                             &#39;immediates&#39;, 或 &#39;infinity&#39;)
  -q [--quiet]             : 不打印未版本控制的条目
  --no-ignore              : disregard default and svn:ignore and
                             svn:global-ignores property ignores
  --incremental            : 给予适合串联的输出
  --xml                    : 输出为 XML
  --ignore-externals       : 忽略外部项目
  --changelist [--cl] ARG  : 只能对修改列表 ARG 的成员操作
</code></pre>
<h3 id="2-7、删除文件"><a href="#2-7、删除文件" class="headerlink" title="2.7、删除文件"></a>2.7、删除文件</h3><pre><code># svn rm xxxx
</code></pre>
<p>delete (del, remove, rm): 从版本库中删除文件和目录。<br>用法: </p>
<p>1、delete PATH…<br>2、delete URL…</p>
<p>1、每个 PATH 指定的项目会被调度到下次提交时从版本库删除。除非给出–keep-local 参数，工作副本中没有提交的文件和目录会被立即删除。如果 PATH 未版本控制或者包含未版本控制的项目，或者包含已修改的项目，那么仅当给出 –force 或 –keep-local 参数时这些项目才会被删除。</p>
<p>2、每个 URL 指定的项目会通过立即提交从版本库中删除。</p>
<p>有效选项:</p>
<pre><code>  --force                  : 强制操作运行
  -q [--quiet]             : 不打印信息，或只打印概要信息
  --targets ARG            : 传递文件 ARG 内容为附件参数
  -m [--message] ARG       : 指定日志信息ARG
  -F [--file] ARG          : 从文件ARG读取日志信息
  --force-log              : 强制校验日志信息资源
  --editor-cmd ARG         : 使用 ARG 作为外部编辑器
  --encoding ARG           : 将ARG的值视为字符编码
  --with-revprop ARG       : 在新版本设置版本属性 ARG
                使用格式 name[=value]
  --keep-local             : 在工作副本中保留路径
</code></pre>
<h3 id="2-8、查看日志"><a href="#2-8、查看日志" class="headerlink" title="2.8、查看日志"></a>2.8、查看日志</h3><pre><code># svn log  xxx
</code></pre>
<p>有效选项:</p>
<pre><code>  -r [--revision] ARG      : ARG (一些命令也接受ARG1:ARG2范围)
                             版本参数可以是如下之一: 
                                NUMBER       版本号
                                &#39;&#123;&#39; DATE &#39;&#125;&#39; 在指定时间以后的版本
                                &#39;HEAD&#39;       版本库中的最新版本
                                &#39;BASE&#39;       工作副本的基线版本
                                &#39;COMMITTED&#39;  最后提交或基线之前
                                &#39;PREV&#39;       COMMITTED的前一版本
  -q [--quiet]             : 不打印信息，或只打印概要信息
  -v [--verbose]           : 打印附加信息
  -g [--use-merge-history] : 从合并历史使用/显示额外信息
  -c [--change] ARG        : 版本 ARG 引起的改变
  --targets ARG            : 传递文件 ARG 内容为附件参数
  --stop-on-copy           : 查看历史不要跨越不同的副本
  --incremental            : 给予适合串联的输出
  --xml                    : 输出为 XML
  -l [--limit] ARG         : 日值项最大值
  --with-all-revprops      : 获取所有版本属性
  --with-no-revprops       : 没有找回版本属性
  --with-revprop ARG       : 获取版本属性 ARG
  --depth ARG              : 限制操作深度是 ARG (&#39;empty&#39;, &#39;files&#39;,
                             &#39;immediates&#39;, 或 &#39;infinity&#39;)
  --diff                   : 产生差异输出
  --diff-cmd ARG           : 使用 ARG 作为比较命令
  --internal-diff          : 覆盖配置文件中指定的 diff-cmd
  -x [--extensions] ARG    : Specify differencing options for external diff or
                             internal diff or blame. Default: &#39;-u&#39;. Options are
                             separated by spaces. Internal diff and blame take:
                               -u, --unified: Show 3 lines of unified context
                               -b, --ignore-space-change: Ignore changes in
                                 amount of white space
                               -w, --ignore-all-space: Ignore all white space
                               --ignore-eol-style: Ignore changes in EOL style
                               -p, --show-c-function: Show C function name
  --search ARG             : use ARG as search pattern (glob syntax)
  --search-and ARG         : combine ARG with the previous search pattern
</code></pre>
<h3 id="2-9、查看文件详细信息"><a href="#2-9、查看文件详细信息" class="headerlink" title="2.9、查看文件详细信息"></a>2.9、查看文件详细信息</h3><pre><code># svn info xxx
</code></pre>
<h3 id="2-10、比较差异"><a href="#2-10、比较差异" class="headerlink" title="2.10、比较差异"></a>2.10、比较差异</h3><pre><code># svn diff path(将修改的文件与基础版本比较)
</code></pre>
<p>例如：</p>
<pre><code># svn diff xxx
# svn diff -r m:n path
(对版本m和版本n比较差异)
</code></pre>
<p>例如：</p>
<pre><code># svn diff -r 200:201 xxx
</code></pre>
<h3 id="2-11、将两个版本之间的差异合并到当前文件"><a href="#2-11、将两个版本之间的差异合并到当前文件" class="headerlink" title="2.11、将两个版本之间的差异合并到当前文件"></a>2.11、将两个版本之间的差异合并到当前文件</h3><pre><code># svn merge -r m:n path
</code></pre>
<p>例如：</p>
<pre><code># svn merge -r 200:205 xxx
（将版本200与205之间的差异合并到当前文件，但是一般都会产生冲突，需要处理一下）
</code></pre>
<h3 id="2-12、版本库下的文件和目录列表"><a href="#2-12、版本库下的文件和目录列表" class="headerlink" title="2.12、版本库下的文件和目录列表"></a>2.12、版本库下的文件和目录列表</h3><pre><code># svn list path
显示path目录下的所有属于版本库的文件和目录
</code></pre>
<h3 id="2-13、恢复本地修改"><a href="#2-13、恢复本地修改" class="headerlink" title="2.13、恢复本地修改"></a>2.13、恢复本地修改</h3><pre><code># svn revert: 恢复原始未改变的工作副本文件 (恢复大部份的本地修改)。revert:
</code></pre>
<p>用法: revert PATH…</p>
<p>注意: 本子命令不会存取网络，并且会解除冲突的状况。但是它不会恢复被删除的目录</p>
<h3 id="2-14、代码库URL变更"><a href="#2-14、代码库URL变更" class="headerlink" title="2.14、代码库URL变更"></a>2.14、代码库URL变更</h3><p>svn switch (sw): 更新工作副本至不同的URL。</p>
<p>用法:</p>
<p>1、<br>    # switch URL [PATH]</p>
<p>2、<br>    # switch –relocate FROM TO [PATH…]</p>
<p>1、更新你的工作副本，映射到一个新的URL，其行为跟“svn update”很像，也会将<br>服务器上文件与本地文件合并。这是将工作副本对应到同一仓库中某个分支或者标记的<br>方法。<br>2、改写工作副本的URL元数据，以反映单纯的URL上的改变。当仓库的根URL变动<br>(比如方案名或是主机名称变动)，但是工作副本仍旧对映到同一仓库的同一目录时使用<br>这个命令更新工作副本与仓库的对应关系。</p>
<h2 id="3、分支创建、合并"><a href="#3、分支创建、合并" class="headerlink" title="3、分支创建、合并"></a>3、分支创建、合并</h2><p><a target="_blank" rel="noopener" href="http://zccst.iteye.com/blog/1430823">原作者</a></p>
<h3 id="3-1、创建分支"><a href="#3-1、创建分支" class="headerlink" title="3.1、创建分支"></a>3.1、创建分支</h3><p>1、创建一个分支 </p>
<pre><code># svn cp src dest
# svn copy https://192.168.1.100/lxl/lanplus https://192.168.1.100/lxl/pluslan -m &#39;make branches pluslan&#39; 
</code></pre>
<p>2，把工作目录转到分支 </p>
<pre><code># svn switch https://192.168.1.100/lxl/pluslan
</code></pre>
<p>当然，也可以再转到主干</p>
<pre><code># svn switch https://192.168.1.100/lxl/lanplus
</code></pre>
<h3 id="3-2、合并一个分支到主干"><a href="#3-2、合并一个分支到主干" class="headerlink" title="3.2、合并一个分支到主干"></a>3.2、合并一个分支到主干</h3><p>1、查找到分支版本 </p>
<p>方法一：</p>
<pre><code># cd pluslan 
# svn log --stop-on-copy 
</code></pre>
<p>最后一个r11340就是创建分支时的reversion </p>
<p>方法二：</p>
<pre><code># cd lanplus
</code></pre>
<p>命令：</p>
<pre><code># svn -q --stop-on-copy 分支URL
这条命令会查询出自创建分支以后分支上的所有修改，最下面的那个版本号就是我们要找的版本号. 
</code></pre>
<p>示例：</p>
<pre><code># svn log -q --stop-on-copy https://192.168.1.100/tags/beta_2009_12_24 
</code></pre>
<p>2、合并到主干<br>命令：svn -r 分支版本号:HEAD 分支的URL<br>解释：HEAD为当前主干上的最新版本<br>示例：</p>
<pre><code># cd lanplus
# svn merge -r 12:HEAD svn://192.168.1.177/tags/beta_2009_12_24 
</code></pre>
<p>解决冲突：</p>
<p>使用<code>svn st | grep ^C </code>查找合并时的冲突文件，手工解决冲突<br>使用<code>svn resolved filename</code> 告知svn冲突已解决<br>使用<code>svn commit -m &quot;&quot; </code>提示合并后的版本 </p>
<p>svn: Aborting commit: ‘/path/resources/noc’ remains in conflict </p>
<pre><code># svn revert resources/noc 
Reverted &#39;resources/noc&#39; 
</code></pre>
<h3 id="3-3、两个分支合并"><a href="#3-3、两个分支合并" class="headerlink" title="3.3、两个分支合并"></a>3.3、两个分支合并</h3><p>两个分支合并可以拆分为一下两步： </p>
<p>第一步： </p>
<p>197从旧主干引出，<br>186打完tag，表示是新主干 </p>
<p>合并最新代码的意思是：将新主干与旧主干比对，并添加到197中。这样197既有自己的新增的代码，也同时有最新线上的代码。 </p>
<pre><code># cd 197_Branch 
# svn merge https://xxx.com/tags/project/project_Old_BL https://xxx.com/tags/project/project_New_BL 
# svn ci -m &#39;merge 186 trunk&#39; 
</code></pre>
<p>第二步： </p>
<p>但是后来，其他人又向186提了代码，所以还需要将186分支（即打了tag后的186，打了tag前的186已是主干）合并至197中。<br>合并办法：找出186分支，比对与新主干之间的差别，并添加到197中。这样197就有最新的全部代码了。 </p>
<pre><code># cd 197_Branch 
# svn merge https://xxx.com/tags/project/project_New_BL https:/xxx.com/project/branches/project/186_Branch 
# svn ci -m &#39;merge 186 branch&#39; 
</code></pre>
<h3 id="3-4、发布"><a href="#3-4、发布" class="headerlink" title="3.4、发布"></a>3.4、发布</h3><p>给当前主干打个标签，并且这个标签不再改动了，但是实际上标签和分支是一个意思，你可以在标签上继续做改动，但这不推荐。 </p>
<pre><code># svn copy svn://xx.com/repo/trunk svn://xx.com/repo/tags/RB-1.0 
</code></pre>
<p>注：</p>
<p>windows下的操作方法</p>
<p>1.分支(branche)的创建。</p>
<pre><code>  1、分支创建是建立在主干上的。
  2、创建分支前将整个porject_name检出到本地，然后主干(trunk) 。
  3、右键 选择 分支/标记 。
  4、然后，在至路径输入：/branches/分支版本名称。
  5、最后选择需要分支版本，点确认，这样分支就建立成功了。
  6、再update porject_name就能在branches中看到，刚刚创建的分支版本。
  7、当然如果要最该分支做修改，就要重新检出了：http://localhost/svn/porject_name/branches/分支版本名称
</code></pre>
<p>2.分支的合并</p>
<pre><code>1、分支合并当然也是在主干上操作的。
2、修改完成后，检出整个porject_name到本地，选择主干(trunk) 
3、右键 选择 合并(合并类型这里就不简介了文档中有详细介绍),选择第一个，
4、然后在合并源ULR中 选择需要合并的分支不版本URL，最后在范围写上需要合并的版本号（可以多个），
5、再下一步进行合并。
6、合并完成后，注意 主干(trunk) 是需要提交的，当然也有可能出现冲突。
</code></pre>
<p>3.标记(tags)的创建</p>
<pre><code>标记的创建跟分支的差不多，但，标记是不能修改的，具体为什么请看文档，
设置标记目录权限时要设置成只读（当然除开标记创建者咯）。
</code></pre>
<p>4.分支(branche)的删除</p>
<pre><code>删除跟删除其他目录是一样的操作。
</code></pre>
<p>SVN推荐目录结构</p>
<pre><code>project_name：项目名称
branches: 存放所有分支。
sources: 存放所有资源文件，如：开发文档、数据库字典等。
tags：存放所有发布的版本。
trunk：存放主干代码。
</code></pre>
<p><a target="_blank" rel="noopener" href="http://sd4886656.iteye.com/blog/1174892">SVN标记 trunk tag branch</a></p>

      
    </div>
    <footer>
      
        
  
  <div class="categories">
    <a href="/categories/07-Linux-Dev/">07. Linux Dev</a>
  </div>

        
  <div class="tags">
    <a href="/tags/Linux/">Linux</a>, <a href="/tags/SVN/">SVN</a>
  </div>

      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>

  
<section id = "relate">
	
</section>




</div></div>
      <aside id="sidebar" class="alignright">
  
<div class="widget tag">
  <h3 class="title" id="categories">分类</h3>
     <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/01-CPP-%E5%9F%BA%E7%A1%80/">01. CPP 基础</a><span class="category-list-count">18</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/02-C%E5%9F%BA%E7%A1%80/">02. C基础</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/03-Python/">03.Python</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/04-Algorithm/">04. Algorithm</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/05-Linux-Operation/">05. Linux Operation</a><span class="category-list-count">14</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/06-Compile-Tools/">06. Compile Tools</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/07-Linux-Dev/">07. Linux Dev</a><span class="category-list-count">32</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/08-DataBase/">08. DataBase</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/08-Database/">08. Database</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/08-DataBase/">08.DataBase</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/09-Windows-System/">09. Windows System</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/10-Web/">10. Web</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/11-Open-Source/">11. Open Source</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/11-Open-Source/">11.Open Source</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/12-Other/">12. Other</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/12-Other/">12.Other</a><span class="category-list-count">1</span></li></ul> 
</div>
 


  
  <div class="widget tag">
    <h3 class="title">归档</h3>
	<ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/">公元 2020 年</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/">公元 2019 年</a><span class="archive-list-count">17</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/">公元 2018 年</a><span class="archive-list-count">21</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/">公元 2017 年</a><span class="archive-list-count">66</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/">公元 2016 年</a><span class="archive-list-count">1</span></li></ul>
  </div>

</aside>
      <div class="clearfix"></div>
    </div>
  
  <footer id="footer"><div class="footer-content inner">
  <div class="alignleft">
  
    &copy; 2021 lxl2015
    
  </div>

  
  <div class="clearfix"></div>
</div></footer>
  <script src="http://libs.baidu.com/jquery/2.1.1/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>

<!-- calendar widget -->




<!-- 返回顶部 -->
<div id="toTop">
	<a href="#">▲</a>
	<a href="#footer">▼</a>
</div>


<!-- fancybox -->

<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>


</body>
</html>
